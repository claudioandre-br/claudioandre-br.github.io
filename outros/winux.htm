<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="CONTENT-TYPE" content="text/html; charset=utf-8">
	<title>Binários do Ubuntu rodando no Windows</title>
	<meta name="verify-v1" content="Yvf4MtdJ3wv/I8mj8BTdqkAB801roKkCPvq28t6N9ck="/>
	<meta http-equiv="Content-Language" content="pt-BR"/>
	<meta name="author" content="Claudio André"/>
	<meta name="copyright" content="Copyright © Claudio André. Todos os direitos reservados."/>
	<meta name="revisit-after" content="1 days"/>
	<meta name="distribution" content="Global"/>
	<meta name="description" content="OpenCL SHA-512 crypt no John the Ripper"/>
	<meta name="keywords" content="Site Pessoal, Trabalho Científico; Software Livre; Qualidade de Sotware; Engenharia de Software"/>

	<!-- Folha de estilos -->
	<link rel='stylesheet' id='estilo-css' href='/estilo.css' type='text/css'/>
	<!-- Google +1 -->
	<html itemscope itemtype="http://schema.org/Person">
	<meta itemprop="name" content="John the Ripper on Ubuntu on Windows">
	<meta itemprop="description" content="WSL, John the Ripper, Ubuntu on Windows">

	<!-- Google Analitics -->
	<script type="text/javascript">
		  var _gaq = _gaq || [];
		  _gaq.push(['_setAccount', 'UA-10099135-1']);
		  _gaq.push(['_trackPageview']);
		  (function() {
		    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		  })();
	</script>
	<script type="text/javascript">
		//Evento externo sem timeout para garantir que registra o evento
		function eventoClick(link, type) {
			_gaq.push(['_trackEvent', 'Links', link.id]);

			if (type) {
		  		window.open(link);
				event.preventDefault ? event.preventDefault() : event.returnValue = false;
			}
		}
		function eventoSair(){
			_gaq.push(['_trackEvent','Navegar','eventoSair']);
		}
		window.onunload = eventoSair;
	</script>
</head>

<body lang="en" dir="LTR">
<center>
<table width='800' border='1' cellpadding='0' cellspacing='0' style="page-break-before: always">
<tr>
	<td>
		<table width='100%' border='0' cellpadding='0' cellspacing='0'>
		<tr>
			<td align="left" width="150" border='2'>
			</td>
			<td width="40" bgcolor="#b9c8e1">
				  
			</td>
			<td bgcolor="#b9c8e1">
				<h2>Claudio André</h2>
				<p>
					Winux: Executável Linux no Windows. Um estudo de caso
                                        [<i><a href="winux_en.htm">English Version</a></i>]					
				</p>

				<!-- Tag to the +1 button to render -->
				<g:plusone annotation="inline"></g:plusone>
				<script type="text/javascript">
				  window.___gcfg = {lang: 'pt-BR'};
				  (function() {
				    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
				    po.src = 'https://apis.google.com/js/plusone.js';
				    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
				  })();
				</script>
			</td>
		</tr>
		</table>
	</td>
</tr>
</table>
<table width='800' border='0' cellpadding='0' cellspacing='0' style="page-break-before: always">
<tr>
	<td>
		<table width='100%' border='0' cellpadding='20' cellspacing='0' style="page-break-before: always">
		<tr bgcolor="#ffffff">
			<td bgcolor="#b9c8e1" align="justify" leftmargin="10px" topmargin="1px" marginwidth="0px" marginheight="0px">
				<!-- BEGIN lista de links -->
				<p>
				</p>
				    <b>Atualizado: </b> 15/06/2016 12:00<br>
				    <br>
É possível executar um programa Linux nativo (o mesmo binário, sem alterações) em uma máquina Windows? Sem truques, sem usar uma máquina virtual ou container? Apenas o binário ELF puro, copiado do Ubuntu para o Windows?<br>
				    <br>
Eu testei o famoso sofware <i><a href="http://openwall.com/john/">John The Ripper</a></i> Jumbo no Windows 10 64 bits Insider Preview [1]. O John foi compilado no Ubuntu 14.04.4 LTS e copiado para o Windows junto com as bibliotecas necessárias [2]. O resultado foi bastante satisfatório, não houve erro fatal ou irreparável. Aliás, o John executando no Windows superou alguns resultados obtidos no Ubuntu [3].<br>
				    <br>

Tabela 1. Performance em quantidade de candidados avaliados por segundo (c/s) [4]<br>
<table style="border: 2px solid gray; border-spacing: 7px">
  <tr>
    <th>Formato</th>
    <th>Windows c/s  [5]</th> 
    <th>Linux c/s [5]</th>
    <th>Windows c/s  [6]</th> 
    <th>Linux c/s [6]</th>
  </tr>
  <tr>
    <td>raw-sha512</td>
    <td style="text-align:center">8933K</td> 
    <td style="text-align:center">9172K</td>
    <td style="text-align:center">2734K</td>
    <td style="text-align:center">2641K</td>
  </tr>
  <tr>
    <td>raw-sha256</td>
    <td style="text-align:center">15347K</td> 
    <td style="text-align:center">14745K</td>
    <td style="text-align:center">6131K</td>
    <td style="text-align:center">5271K</td>
  </tr>
  <tr>
    <td>sha512crypt</td>
    <td style="text-align:center">2792</td> 
    <td style="text-align:center">2671</td>
    <td style="text-align:center">548</td>
    <td style="text-align:center">520</td>
  </tr>
  <tr>
    <td>sha256crypt</td>
    <td style="text-align:center">3375</td> 
    <td style="text-align:center">2871</td>
    <td style="text-align:center">773</td>
    <td style="text-align:center">653</td>
  </tr>
</table>
Nota: K indica que o valor deve ser multiplicado por 1000.<br>	
		    <br>
Minha opinião: os dados confirmam que a Microsoft e a Canonical estão fazendo um bom trabalho no Windows Subsystem for Linux (WSL). <br>
<br>

<img src="https://cloud.githubusercontent.com/assets/1702923/15993386/d3dd434c-30ba-11e6-98c6-0ceb2a77d3f9.png" alt="Print Screen" style="width: 100%; max-height: 100%"><br>
				    <br>
Um programa 100% nativo Linux, cheio de recursos avançados, inclusive fork, executando no Windows? Bonito de se ver!<br>
				    <br>

[1] Este recurso ainda está em desenvolvimento pela Microsoft e Canonical.<br>
[2] Para que o binário encontre as bibliotecas necessárias basta alterar LD_LIBRARY_PATH.<br>
[3] Eu esperava que o Linux "vencesse" com uma  pequena margem. Contudo, as diferenças de desempenho se justificam pois trata-se do Ubuntu 16.04 LTS usando um SNAP app (tecnologia em maturação) versus Windows (com Ubuntu 14.04.4 LTS estável). <br>
[4] Resultados obtidos no mesmo computador, via dual-boot. No Linux, usamos o John the Ripper SNAP app disponível na Ubuntu Store para Ubuntu Core 16.<br>
[5] Rodando 6 threads (via OpenMP).<br>
[6] Apenas uma thread em execução (via OMP_THREAD_LIMIT=1).<br>

 				<!-- END lista de links -->
			</td>
		</tr>
		</table>
	</td>
</tr>
</table>
</center>

<!-- BEGIN rodapé -->
<div style="clear:both;">
</div>
<div id="rodape">
	<div id="rodapeleft">
		<p>
			© 2003-2011 <a id='Página principal' href="https://claudioandre.github.io/" 
			onclick="eventoClick(this, 0);">
			Claudio André. </a> Todos os direitos reservados
		</p>
	</div>
	<div id="rodaperight">
		<p>
			<script language="JavaScript">
			document.write("<a id='Email' href='mail" + "to:" + 
				"claudioandre.br" + "%40" + "gmail.com?Subject=Duvida%20do%20site' " + 
				"onClick='eventoClick(this, 0);'" + "> " + "Entrar em contato</a>");
		</script>
		</p>
	</div>
</div>
<!-- END rodapé -->
<p>
	<br>
</p>
</body>
</html>
